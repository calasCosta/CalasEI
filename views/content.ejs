<%- include("partials/header.ejs") -%>

<div id="iframeDiv">
    <iframe 
        src="<%= urlContent %>?autoplay=1" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe> 

    <p id="penTakeNote"> ðŸ–Š </p>

    <form action="/category/<%= categoryId %>/content/<%= contentId %>/takeNote" method="post" class="takeNoteForm" id="takeNoteForm" hidden>
        <input type="text" name="expression" id="" placeholder="expression"> <br>
        <textarea name="meaning" id="" cols="30" rows="2" placeholder="meaning"></textarea><br>
        <textarea name="example" id="" cols="30" rows="2" placeholder="example"></textarea><br>
        <textarea name="pronunciation" id="" cols="30" rows="1" placeholder="pronunciation"></textarea><br>
        <button type="submit" id="btnTakeNote">Take note</button>
    </form>
</div>

<div class="notesSide" id="notesSide">
    <% for(n of notes){ %>
        <div class="note">
            <h4><%= n.expression %></h4>
            <div>

                <%if(n.meaning){%>
                    <p>M.: <%= n.meaning %></p>
                <%}%>

                <%if(!!n.example){%>
                    <p>Eg.: <%= n.example %></p>
                <%}%>

                <%if(!!n.pronunciation){%>
                    <p>Sound: <%= n.pronunciation %></p>
                <%}%>
            </div>
        </div>
    <% } %>
</div>

<script type="text/javascript">

    let takeNoteForm = document.getElementById("takeNoteForm");
    let penTakeNote = document.getElementById("penTakeNote");

    let checked = false;
    penTakeNote.addEventListener("click", function(evt){
        checked = !checked;
        if(checked){
            takeNoteForm.style.display = "block";
        }else{
            takeNoteForm.style.display = "none";
        }
    });

    let btnTakeNote = document.getElementById("btnTakeNote");
    btnTakeNote.addEventListener("click", function(evt){
        
    });
</script>